<Window x:Class="WarehouseManager.Wpf.View.AuthWindow"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
         xmlns:ui="http://schemas.modernwpf.com/2019"
         xmlns:local="clr-namespace:WarehouseManager.Wpf.View" 
        xmlns:convertor="clr-namespace:WarehouseManager.Wpf.Convertor"
        mc:Ignorable="d"
         Title="Вход в систему"
         Width="400"
         MinWidth="300"
         Height="480"
         MinHeight="400"
         ResizeMode="CanResize"
         WindowStartupLocation="CenterScreen"
         Background="#EDC7B7">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Text="Вход в систему"
                   Grid.Row="0"
                   Margin="24,24,24,8"
                   FontSize="24"
                   FontWeight="SemiBold"
                   Foreground="#123C69"
                   TextAlignment="Center"/>

        <!-- Форма -->
        <ScrollViewer Grid.Row="1" Padding="24,0,24,0">
            <StackPanel Margin="16">
                <!-- Email -->
                <Border Background="#EEE2DC" CornerRadius="8" Padding="12" Margin="0,8,0,0">
                    <StackPanel>
                        <TextBlock Text="Email" Foreground="#BAB2B5" FontSize="12" Margin="0,0,0,4"/>
                        <TextBox x:Name="EmailBox"
                                 Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
                                 Foreground="#123C69"
                                 Background="Transparent"
                                 BorderBrush="#BAB2B5"
                                 BorderThickness="1"
                                 CaretBrush="#123C69"
                                 FocusVisualStyle="{x:Null}"
                                 GotFocus="EmailBox_GotFocus"
                                 LostFocus="EmailBox_LostFocus"/>
                    </StackPanel>
                </Border>

                <!-- Пароль -->
                <Border Background="#EEE2DC" CornerRadius="8" Padding="12" Margin="0,8,0,0">
                    <StackPanel>
                        <TextBlock Text="Пароль" Foreground="#BAB2B5" FontSize="12" Margin="0,0,0,4"/>
                        <PasswordBox x:Name="PasswordBox"
                                     Foreground="#123C69"
                                     Background="#EEE2DC"
                                     BorderBrush="#BAB2B5"
                                     BorderThickness="1"
                                     CaretBrush="#123C69"
                                     FocusVisualStyle="{x:Null}"
                                     GotFocus="PasswordBox_GotFocus"
                                     LostFocus="PasswordBox_LostFocus"
                                     PasswordChanged="PasswordBox_PasswordChanged"/>
                    </StackPanel>
                </Border>

                <ScrollViewer>
                    <TextBlock Text="{Binding ErrorMessage}"
                           Foreground="#AC3B61"
                           TextWrapping="Wrap"
                           Margin="0,8,0,0"/>
                </ScrollViewer>
            </StackPanel>
        </ScrollViewer>

        <!-- Кнопка входа -->
        <Button Grid.Row="2"
        Content="Войти"
        Command="{Binding LoginCommand}"
        Padding="16,8"
        Margin="24"
        MinHeight="40"
        FontSize="24"
        HorizontalAlignment="Stretch"
        Background="#123C69"
        Foreground="#EEE2DC"
        BorderBrush="#BAB2B5"
        BorderThickness="2"
        Cursor="Hand"
        Style="{DynamicResource AccentButtonStyle}">

            <Button.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <ColorAnimation Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"
                                            To="#AC3B61" Duration="0:0:0.2"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <ColorAnimation Storyboard.TargetProperty="(Background).(SolidColorBrush.Color)"
                                            To="#123C69" Duration="0:0:0.2"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Button.Triggers>
        </Button>
    </Grid>
</Window>